<aside class="viewer">
  <div *ngIf="areNotificationsLoaded">
    <div *ngFor="let notification of notifications" class="notification">
      <div *ngIf="notification.type=='threshold'">
        <div class="notification-time">{{ notification.timeText }}</div>
        <div class="threshold-title">
          Threshold triggered!
          <span class="tooltiptext">{{ notification.activationOperator }} {{ notification.activationThreshold }} {{ notification.sensors[0].unit }}</span>
        </div>
        Box: <a (click)="boxDetails(notification.box._id)">{{ notification.box.name }}</a> <br/>
        <!-- TODO: a notification could theoretically have more than one sensor, but Im not sure if we care about that... -->
        Sensor: {{ notification.sensors[0].title }} <br/>
        Measurment: <b>{{ notification.notificationValue }} {{ notification.sensors[0].unit }}</b> <br/>
      </div>
    
      <div *ngIf="notification.type=='notification-rule'">
        <div class="rule-title">
          Created a notification rule
        </div>
        You cretated a notification rule for <b>'{{notification.sensorTitle}}'</b> of <b>'{{notification.boxName}}'</b>.
      </div>
    </div>
  </div>
</aside>